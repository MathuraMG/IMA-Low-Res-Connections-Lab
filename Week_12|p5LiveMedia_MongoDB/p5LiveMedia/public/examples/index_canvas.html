<html>
	<head>
		<script src="https://cdn.jsdelivr.net/npm/p5@1.1.9/lib/p5.js"></script>
		<script type="text/javascript" src="../simplepeer.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.3/socket.io.js" integrity="sha512-iWPnCISAd/J+ZacwV2mbNLCaPGRrRo5OS81lKTVPtRg1wGTC20Cfmp5Us5RcbLv42QLdbAWl0MI57yox5VecQg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script type="text/javascript" src="../p5live.js"></script>


	</head>
  <body>

<h1> p5 live media </h1>
		<script type="text/javascript">

			// This is the first test of the p5.p5live webrtc library and associated service.
// Open this sketch up 2 times to send video back and forth

let otherCanvas;

function setup() {
	let myCanvas = createCanvas(400, 400);
	let p5l = new p5Live(this, "CANVAS", myCanvas);
	p5l.on('stream', gotStream);
}

function draw() {
	background(220);
	stroke(255);
	fill(255,0,0);
	ellipse(mouseX,mouseY,100,100);

	// We could draw the otherCanvas here but then we would end up streaming that out as well..  It would get weeeeiiiiird like Al!
}

// We got a new stream!
function gotStream(stream) {
	// This is just like a video/stream from createCapture(VIDEO)
	otherCanvas = stream;
	//otherCanvas.id is the unique identifier for this peer
	//otherCanvas.hide();
}

		</script>

  </body>
</html>
